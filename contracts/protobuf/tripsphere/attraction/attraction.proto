syntax = "proto3";

package org.tripsphere.attraction;
option java_multiple_files = true;
option java_package = "org.tripsphere.attraction";
option java_outer_classname = "AttractionServiceProto";

option go_package = "tripsphere/attraction";

// address info
message Address {
  string country = 1;
  string province = 2;
  string city = 3;
  string county = 4;
  string district = 5;
  string street = 6;
}

// the location of hotel
message Location {
  double lng = 1;
  double lat = 2;
}

message File{
  //user's file name, not the stored file name
  string name = 1;
  //file type, such as image/png, application/pdf
  string contextType = 2;
  //url used to access the file,uploaded to cloud storage or download
  string url = 3;
  //temp bucket or permanent bucket
  string bucket = 4;
  //service name
  string service = 5;
  //file path in the file service
  string path = 6;
}

message Attraction {
  string id = 1;
  string name = 2;
  Address address = 3;
  string introduction = 4;
  repeated string tags = 5;
  repeated File images = 6;
  Location location = 7;
}

message AddAttractionRequest {
  Attraction attraction = 1;
}

message AddAttractionResponse {
  string id = 1;//attraction id
}

message DeleteAttractionRequest {
  string id = 1;

}

message DeleteAttractionResponse {
  bool success = 1;
}

message ChangeAttractionRequest {
  Attraction attraction = 1;
}

message ChangeAttractionResponse {
  bool success = 1;
}

message FindIdByNameRequest {
  string name = 1;
}

message FindIdByNameResponse {
  string attraction_id = 1;
}

service AttractionService{
  rpc AddAttraction(AddAttractionRequest) returns (AddAttractionResponse);
  rpc DeleteAttraction(DeleteAttractionRequest) returns (DeleteAttractionResponse);
  rpc ChangeAttraction(ChangeAttractionRequest) returns (ChangeAttractionResponse);
  rpc FindIdByName(FindIdByNameRequest) returns (FindIdByNameResponse);
}