syntax = "proto3";

package tripsphere.itinerary;

import "google/protobuf/struct.proto";

option go_package = "tripsphere/itinerary";
option java_multiple_files = true;
option java_package = "org.tripsphere.itinerary";

message Activity {
  string activity_id = 1;
  string kind = 2;
  google.protobuf.Struct metadata = 3;
}

message DayPlan {
  string day_plan_id = 1;
  string title = 2;
  repeated Activity activities = 3;
  google.protobuf.Struct metadata = 4;
}

message Itinerary {
  string itinerary_id = 1;
  string title = 2;
  string user_id = 3;
  repeated DayPlan day_plans = 4;
  string start_date = 5; // YYYY-MM-DD
  string end_date = 6; // YYYY-MM-DD
  string created_at = 7;
  string updated_at = 8;
  google.protobuf.Struct metadata = 9;
}

service ItineraryService {
  // Create a new itinerary.
  rpc CreateItinerary(CreateItineraryRequest) returns (CreateItineraryResponse);

  // Get an existing itinerary by ID.
  rpc GetItinerary(GetItineraryRequest) returns (GetItineraryResponse);

  // Delete an existing itinerary by ID.
  rpc DeleteItinerary(DeleteItineraryRequest) returns (DeleteItineraryResponse);
}

message CreateItineraryRequest {}

message CreateItineraryResponse {}

message GetItineraryRequest {
  string itinerary_id = 1;
}

message GetItineraryResponse {
  Itinerary itinerary = 1;
}

message DeleteItineraryRequest {
  string itinerary_id = 1;
}

message DeleteItineraryResponse {}
